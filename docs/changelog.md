# 2048 Web 開發日誌 (Development Log)

本文件紀錄了 2048 Web 專案從零開始的開發里程碑與重大變動。

## [2026-01-29] Phase 4: 多語系與版面精確對齊 (i18n & Layout Refactor)
*   **多語系支援**：
    *   實作 `LanguageContext`，支援 **繁體中文 (繁)**、**英文 (EN)**、**日文 (日)**。
    *   UI 同時呈現語系按鈕，支援狀態持久化。
*   **畫面控制按鈕**：在桌機與行動裝置版面上新增「上下左右」方向鍵，提供更多元的操控方式。
*   **電腦版執行程式 (Desktop App)**：整合 Electron，支援將遊戲打包成 macOS (.app/.dmg) 與 Windows 執行檔。
*   **修復 ESM 相容性**：解決了 Electron 主進程在 ESM 模式下找不到 `__dirname` 的問題，確保打包後的桌面應用程式能正常啟動。
*   **按鈕自適應優化**：針對小螢幕高度問題，新增了 **懸浮模式 (Floating Mode)**。玩家可點擊 `🚀` 按鈕將操控墊移至右下角懸浮顯示，解決按鈕被遮擋的問題。
*   **版面對齊重構**：
    *   完全重構 SCSS，引入動態 CSS 變數系統 (`--grid-size`, `--tile-size`)。
    *   解決了在高解析度與手機縮放比例下的方塊對齊偏移 (Off-set) 問題。
*   **按鈕 UI 優化**：修復了按鈕文字溢出問題，優化了深色模式下的按鈕視覺。
*   **程式碼品質**：抽離 `useKeyboardControls` Hook，修復 `App.tsx` 逻辑混亂。

## [2026-01-28] Phase 3: 視覺層面與體驗優化 (Advanced Visuals)
*   **核心動畫升級**：整合 `framer-motion`，實現具備彈簧物理效果的自然移動動畫。
*   **粒子特效**：實作方塊合併時的噴濺粒子效果。
*   **主題系統**：支援深色 (Dark) 與淺色 (Light) 模式切換。
*   **自動操作 (Auto Play)**：實作 Expectimax AI 演算法，支援自動玩遊戲與即時演示。
*   **PWA 支援**：實作 Service Worker 與 Manifest，支援離線遊玩與手機安裝。

## [2026-01-27] Phase 2: 行動裝置支援與功能擴充 (Mobile & Features)
*   **觸控手勢**：實作滑動偵測 (Swipe Gestures)，支援手機瀏覽器。
*   **狀態持久化**：實作 LocalStorage 自動存檔與回復。
*   **復原功能 (Undo)**：支援最近 5 步的狀態回放。
*   **得分細節**：實作得分浮動 (Score float) 動畫。

## [2026-01-26] Phase 1: 核心遊戲邏輯 (MVP)
*   **初始化專案**：使用 Vite + React + TypeScript + SCSS。
*   **遊戲核心**：實作 4x4 網格、方塊生成、上下左右滑動合併邏輯。
*   **基礎 UI**：實作基本配色方案、記分板與遊戲結束遮罩。
